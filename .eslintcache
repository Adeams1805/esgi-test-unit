[{"C:\\laragon\\www\\esgi\\esgi-test-unit\\src\\index.js":"1","C:\\laragon\\www\\esgi\\esgi-test-unit\\src\\App.js":"2","C:\\laragon\\www\\esgi\\esgi-test-unit\\src\\components\\User.js":"3","C:\\laragon\\www\\esgi\\esgi-test-unit\\src\\components\\Item.js":"4","C:\\laragon\\www\\esgi\\esgi-test-unit\\src\\components\\ToDoList.js":"5","C:\\laragon\\www\\esgi\\esgi-test-unit\\src\\components\\EmailService.js":"6"},{"size":234,"mtime":1612970452762,"results":"7","hashOfConfig":"8"},{"size":5775,"mtime":1613115899907,"results":"9","hashOfConfig":"8"},{"size":1299,"mtime":1612970452759,"results":"10","hashOfConfig":"8"},{"size":726,"mtime":1612970452755,"results":"11","hashOfConfig":"8"},{"size":1889,"mtime":1612970452758,"results":"12","hashOfConfig":"8"},{"size":378,"mtime":1612970452754,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"nilj9q",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"16"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"C:\\laragon\\www\\esgi\\esgi-test-unit\\src\\index.js",[],["30","31"],"C:\\laragon\\www\\esgi\\esgi-test-unit\\src\\App.js",[],"C:\\laragon\\www\\esgi\\esgi-test-unit\\src\\components\\User.js",["32","33","34","35"],"export default class User {\r\n    constructor(user) {\r\n      this.nom = user.nom;\r\n      this.prenom = user.prenom;\r\n      this.email = user.email;\r\n      this.ddn = user.ddn;\r\n      this.mdp = user.mdp;\r\n    }\r\n    \r\n    isValid() {      \r\n      //check prenom renseigne\r\n      if(this.prenom === \"\" || this.prenom === null || this.prenom === undefined) return false;\r\n      \r\n      //check nom renseigne\r\n      if(this.nom === \"\" || this.nom === null || this.nom === undefined) return false;\r\n      \r\n      //check email valide\r\n      let re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      if(this.email === \"\" || this.email === null || this.email === undefined || !re.test(this.email)) return false;\r\n      \r\n      //check date valid\r\n      if(this.ddn === null || this.ddn === undefined || this.ddn === \"\") return false;\r\n      //check 13 ans ou +\r\n      let diff = (new Date() - new Date(this.ddn))/31536000000;\r\n      if(isNaN(diff) || diff < 13) return false;\r\n\r\n      //check mdp valide\r\n      if(this.mdp === \"\" || this.mdp === null || this.mdp === undefined || this.mdp.length < 8 || this.mdp.length > 40) return false;\r\n      \r\n      //valid\r\n      return true;\r\n    }\r\n}","C:\\laragon\\www\\esgi\\esgi-test-unit\\src\\components\\Item.js",[],"C:\\laragon\\www\\esgi\\esgi-test-unit\\src\\components\\ToDoList.js",["36"],"import Item from './Item';\r\nimport moment from 'moment';\r\nimport * as EmailService from './EmailService';\r\nimport testUtils from 'react-dom/test-utils';\r\n\r\nexport default class ToDoList {\r\n    constructor(user, items) {\r\n        this.user = user;\r\n        this.items = [...items];\r\n    }\r\n\r\n    add(name, content, createdAt) {\r\n        const it = new Item({name, content, createdAt});\r\n\r\n        if(it.isValid()) {\r\n            //check moins de 10 items\r\n            if(this.items.length >= 10) {\r\n                console.log(\"Une ToDoList ne peut pas avoir plus de 10 items\");\r\n                return false;\r\n            }\r\n\r\n            //check name unique\r\n            if(this.items.find(el => el.name === name) !== undefined) {\r\n                console.log(\"Les items doivent avoir un nom unique\");\r\n                return false;\r\n            }\r\n\r\n            //check 30 min\r\n            if(this.items.length !== 0) {\r\n                const currentItemDate = moment(createdAt.toJSON());\r\n                const lastItemDate = moment(this.items[this.items.length-1].createdAt.toJSON());\r\n                if(currentItemDate.diff(lastItemDate, \"minutes\") < 30) {\r\n                    console.log(\"Vous devez attendre 30 min avant de pouvoir ajouter un nouvel item\");\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            //envoi mail au 8eme item\r\n            if(this.items.length === 7) {\r\n                const params = {\r\n                    name: `${JSON.parse(localStorage.getItem(\"user\")).firstname} ${JSON.parse(localStorage.getItem(\"user\")).lastname}`,\r\n                    email: JSON.parse(localStorage.getItem(\"user\")).email\r\n                }\r\n                EmailService.send(params.name, params.email);\r\n            }\r\n\r\n            //add\r\n            this.items.push(it);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}","C:\\laragon\\www\\esgi\\esgi-test-unit\\src\\components\\EmailService.js",[],["37","38"],{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","severity":1,"message":"44","line":18,"column":38,"nodeType":"45","messageId":"46","endLine":18,"endColumn":39,"suggestions":"47"},{"ruleId":"43","severity":1,"message":"44","line":18,"column":63,"nodeType":"45","messageId":"46","endLine":18,"endColumn":64,"suggestions":"48"},{"ruleId":"43","severity":1,"message":"44","line":18,"column":72,"nodeType":"45","messageId":"46","endLine":18,"endColumn":73,"suggestions":"49"},{"ruleId":"43","severity":1,"message":"44","line":18,"column":76,"nodeType":"45","messageId":"46","endLine":18,"endColumn":77,"suggestions":"50"},{"ruleId":"51","severity":1,"message":"52","line":4,"column":8,"nodeType":"53","messageId":"54","endLine":4,"endColumn":17},{"ruleId":"39","replacedBy":"55"},{"ruleId":"41","replacedBy":"56"},"no-native-reassign",["57"],"no-negated-in-lhs",["58"],"no-useless-escape","Unnecessary escape character: \\\".","Literal","unnecessaryEscape",["59","60"],["61","62"],["63","64"],["65","66"],"no-unused-vars","'testUtils' is defined but never used.","Identifier","unusedVar",["57"],["58"],"no-global-assign","no-unsafe-negation",{"messageId":"67","fix":"68","desc":"69"},{"messageId":"70","fix":"71","desc":"72"},{"messageId":"67","fix":"73","desc":"69"},{"messageId":"70","fix":"74","desc":"72"},{"messageId":"67","fix":"75","desc":"69"},{"messageId":"70","fix":"76","desc":"72"},{"messageId":"67","fix":"77","desc":"69"},{"messageId":"70","fix":"78","desc":"72"},"removeEscape",{"range":"79","text":"80"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"81","text":"82"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"83","text":"80"},{"range":"84","text":"82"},{"range":"85","text":"80"},{"range":"86","text":"82"},{"range":"87","text":"80"},{"range":"88","text":"82"},[567,568],"",[567,567],"\\",[592,593],[592,592],[601,602],[601,601],[605,606],[605,605]]